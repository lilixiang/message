#### 私信系统设计方案

1. 用户部分

   1. 继承使用Django 自带的抽象user类，以及session

2. 私信部分

   每个用户和另一个用户发消息时会绑定一个inbox，发送时会新增，并且往里发送一条消息数据，接受时也会新增一个inbox（有则直接使用），并发送一条消息，用来隔离消息，完成一方删除，另一方可见，发送消息后会往联系人数据保存一份数据，同时另一个人也同时新增（有则更新），并且未读消息+1。消息时间没有记录，后期可以加上。

   设计表：

    * user
    * user_contacts 联系人表
    * user_inbox 用户收件表
    * user_messages 消息表

3. 未完成功能：

   实时加载：考虑可以使用websocket 的实现，发送消息给客户端发送消息，添加好友也发送相关的消息。